<div>
    <br><br>
    <div class="page-header-image" style="background-image:url(assets/image/landscape.jpg)"></div>

    <div class="container" style="margin-top: 70px;">
        <div class="content-center">


            <div class="header header-primary text-center" style="color: chartreuse;">

                <h2>Enter Song Data</h2>

            </div><br>
            <div class="was-validated">
                <form [formGroup]="songForm">

                    <div class="row row-cols-2 mb-1">


                        <div class="col p-3">
                            <div class="input-group form-group-no-border input-lg"
                                [ngClass]="{'input-group-focus':focus===true}">
                            </div>
                            <label for="name" style="font-size:x-large; color: crimson;"><b>name:
                                </b></label><br>
                            <input type="text" formControlName="title" placeholder="Enter Song name" id="name"
                                class="form-control" name="name" (focus)="focus=true" (blur)="focus=false"
                                required="true">

                        </div>

                        <div class="col p-3">
                            <div class="input-group form-group-no-border input-lg"
                                [ngClass]="{'input-group-focus':focus===true}">
                            </div>
                            
                            <div [formGroup]="getRaag(songForm)">
                                <label style="font-size:x-large; color: crimson;"><b>movie:
                                </b></label><br>
                                <select class="form-control" formControlName="id">
                                    <option value="">Choose Raag</option>
                                    <option *ngFor="let r of raagArray" [ngValue]="r.id">{{r.name}}</option>
                                </select>
                            </div>
                        </div>
                    </div>


                    <div class="row row-cols-2 mb-1">
                        <div class="col p-3">
                            <div class="input-group form-group-no-border input-lg"
                                [ngClass]="{'input-group-focus':focus===true}">
                            </div>
                            
                            <div [formGroup]="getMovie(songForm)">
                                <label style="font-size:x-large; color: crimson;"><b>movie:
                                </b></label><br>
                                <select class="form-control" formControlName="movieId">
                                    <option value="">Choose Movie</option>
                                    <option *ngFor="let r of movieArray" [ngValue]="r.movieId">{{r.movieName}}</option>
                                </select>
                            </div>
                        </div>


                        <div class="col p-3">
                            <div class="input-group form-group-no-border input-lg"
                                [ngClass]="{'input-group-focus':focus===true}">
                            </div>
                            <label for="lyrics" style="font-size:x-large; color: crimson;"><b>lyrics:
                                </b></label><br>
                            <input type="text" formControlName="lyrics" placeholder="Enter lyrics" id="lyrics"
                                class="form-control" name="lyrics" (focus)="focus=true" (blur)="focus=false"
                                required="true">

                        </div>

                    </div>


                    <div class="col p-3">
                        <div class="input-group form-group-no-border input-lg"
                            [ngClass]="{'input-group-focus':focus1===true}">
                        </div>
                        <div formArrayName="personDTO">
                            <label for="crewMemberL" style="font-size:x-large; color: crimson;"><b> Member
                                    Name:</b></label>
                            <div *ngFor="let person of getPersonDTO(songForm); let personIndex=index"
                                [formGroupName]="personIndex">

                                <select class="form-control" formControlName="personId">
                                    <option value="">Choose Crew</option>
                                    <option *ngFor="let r of PersonArray" [ngValue]="r.personId">
                                        {{r.firstName+' '+r.lastName}}</option>
                                </select>

                                <div formArrayName="roles">
                                    <div *ngFor="let role of getRoleDTO(person); let roleDTOIndex=index"
                                        [formGroupName]="roleDTOIndex">
                                        <select class="form-control" formControlName="roleId">
                                            <option value="">Choose Role</option>
                                            <option *ngFor="let r of RolesArray" [ngValue]="r.roleId">{{r.roleName}}
                                            </option>
                                        </select>
                                    </div>
                                </div>
                                <input type="button" value="Delete" (click)="removePerson(personIndex)" />

                                <input type="button" value="Add" (click)="addPerson()" />
                            </div>
                        </div>

                    </div>
                </form>

                <div class="footer text-center">

                    <a routerLink="/song" (click)="createSong()" class="btn btn-primary btn-round btn-lg btn-block"
                        style="font-size: x-large;">Register</a>
                </div>

            </div>
        </div>
    </div>
</div>